---
layout: post
title: Hobo on Heroku
date: '2010-10-10T06:32:00.000-07:00'
tags:
- ror
- ruby on rails
- heroku
- hosting
- hobo
modified_time: '2010-10-10T07:38:40.856-07:00'
blogger_id: tag:blogger.com,1999:blog-4711902727427506568.post-4032650148120545475
blogger_orig_url: http://toastedtoothpaste.blogspot.com/2010/10/hobo-on-heroku.html
---

Ok, this was an ordeal that I don't want to have to repeat. So here's how to get your Hobo 1.0.0 app up and running on <a href="http://www.heroku.com/">Heroku</a>.<br /><br />I'm not going over registering at <a href="http://www.heroku.com/">Heroku</a> or setting up <a href="http://www.hobocentral.net/">Hobo</a>. I'll presume that you are competent enough to do this yourself with the current guides on their respective sites.<br />The basics for this post is Tom Locke's<a href="http://cookbook.hobocentral.net/recipes/19-deploy-a-hobo-app-on-heroku"> recipe</a> at HoboCentral. Also note that the Heroku default server is Aspen (aspen-mri-1.8.6).<br /><br />So I set up a simple Hobo 1.0.0 app with 1 model. Using ruby 2.3.8, I can test on my app on the development server - no problems.<br /><br />You will need to add a<span style="font-style: italic;"> </span><span style="color: black; font-style: italic;">.gems</span> file in your root directory, that should have all the extra gems that you require. Heroku has a good set, but in order for completeness and futureproofing - add all the ones that you require. Mine looked like this (it will change by the end of this post):<br /><br /><span style="font-family: courier new;">rails -v 2.3.8</span><br /><span style="font-family: courier new;">will_paginate --version 2.3.11</span><br /><span style="font-family: courier new;">hobosupport --version 1.0.0</span><br /><span style="font-family: courier new;">hobofields --version 1.0.0 --ignore-dependencies</span><br /><span style="font-family: courier new;">hobo --version 1.0.0 --ignore-dependencies</span><br /><br />When submitting this to heroku it doesn't start as:<br /><span style="font-family: courier new;">Missing the Rails 2.3.8 gem. Please `gem install -v=2.3.8 rails`, update your RAILS_GEM_VERSION setting in config/environment.rb for the Rails version you do have installed, or comment out RAILS_GEM_VERSION to use the latest version installed.</span><br /><br />I kept hitting this and there appears to be a problem with Heroku's server of choice 'thin' and hobo and 2.3.8 rails - it will not work with 2.3.8 - this means that you will have to roll back to 2.3.5 to get it up and running. I don't know enough about thin, all I know is that getting the thin gem and trying locally has the same error.<br /><br />After changing to 2.3.5 in <span style="font-style: italic;">config/environment.rb</span> and <span style="font-style: italic;">.gems</span>:<br /><br /><span style="font-family: courier new;">rails -v 2.3.5</span><br /><span style="font-family: courier new;">pg --version 0.8.0</span><br /><span style="font-family: courier new;">will_paginate --version 2.3.11</span><br /><span style="font-family: courier new;">hobosupport --version 1.0.0</span><br /><span style="font-family: courier new;">hobofields --version 1.0.0 --ignore-dependencies</span><br /><span style="font-family: courier new;">hobo --version 1.0.0 --ignore-dependencies</span><br /><br />(I also added pg's gem not 100% sure that I need it, but I saw it on heroku's example)<br /><br />This gets you past the rails problems, only to hit:<br /><br /><span style="font-family: courier new;">/config/initializers/cookie_verification_secret.rb:7: undefined method `cookie_verifier_secret=' for ActionController::Base:Class (NoMethodError)</span><br /><br />This seems to be a hobo version error, some new functionality that doesn't work in 2.3.5, my app doesn't require user protection, so I manually edited <span style="font-style: italic;">cookie_verification_secret.rb</span>, commenting out that line.<br /><br />This is not an ideal solution (in fact I would just call it a hack), you would probably need to step back to an older version of Hobo, I'm hoping to look ahead to Hobo 1.3.x so I'm not worried about finding the correct old hobo version.<br /><br />Once I did this I was able to:<br /><span style="font-family: courier new;">heroku rake db:migrate</span><br /><br />...and finally the app is up and running.<br /><br />Hope this helps someone.
