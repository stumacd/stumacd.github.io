<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Ruby on rails 3 - rvm, bundle, eeeekk &#8211; Stu MacDonald</title>
<meta name="description" content="Having a freshly loaded Ubuntu 10.04 on my main desktop (after checking it out for months on my laptop), I thought I'd get ruby on rails set up. After setting up Rails 2 with the minimum of fuss, I took the challenge of upgrading to Rails 3 (release candidate).RVM is now an essential component of any rails environment, letting you change between rails version in an instant (Theoretically, but more on that soon).Installing it was as simple as: $ bash After installing all the necessary ubuntu packages $ rvm install 1.9.2-rc2 $ rvm 1.9.2-rc2 $ gem install rails --preI can't seem to switch between rubies as I would like, but I'm sure I can solve this soon.To start a new project we have to forget the rails 2 ways and start with:$ rails new test_projectYou should see the usual files (plus a few new ones) being created.$ cd test_project $ bundle installThis is where I had some problems with mysql. I had installed every possible mysql package but it stll wasn't working.Using activeresource (3.0.0.rc) Using bundler (1.0.0.rc.1) Installing mysql (2.8.1) with native extensions /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:483:in `build_extensions': ERROR: Failed to build gem native extension. (Gem::Installer::ExtensionBuildError)/usr/bin/ruby1.8 extconf.rb checking for mysql_query() in -lmysqlclient... nochecking for main() in -lm... yeschecking for mysql_query() in -lmysqlclient... nochecking for main() in -lz... yeschecking for mysql_query() in -lmysqlclient... nochecking for main() in -lsocket... nochecking for mysql_query() in -lmysqlclient... nochecking for main() in -lnsl... yeschecking for mysql_query() in -lmysqlclient... nochecking for main() in -lmygcc... nochecking for mysql_query() in -lmysqlclient... no*** extconf.rb failed ***Could not create Makefile due to some reason, probably lack ofnecessary libraries and/or headers.  Check the mkmf.log file for moredetails.  You may need configuration options.Provided configuration options:    --with-opt-dir    --without-opt-dir    --with-opt-include    --without-opt-include=${opt-dir}/include    --with-opt-lib    --without-opt-lib=${opt-dir}/lib    --with-make-prog    --without-make-prog    --srcdir=.    --curdir    --ruby=/usr/bin/ruby1.8    --with-mysql-config    --without-mysql-config    --with-mysql-dir    --without-mysql-dir    --with-mysql-include    --without-mysql-include=${mysql-dir}/include    --with-mysql-lib    --without-mysql-lib=${mysql-dir}/lib    --with-mysqlclientlib    --without-mysqlclientlib    --with-mlib    --without-mlib    --with-mysqlclientlib    --without-mysqlclientlib    --with-zlib    --without-zlib    --with-mysqlclientlib    --without-mysqlclientlib    --with-socketlib    --without-socketlib    --with-mysqlclientlib    --without-mysqlclientlib    --with-nsllib    --without-nsllib    --with-mysqlclientlib    --without-mysqlclientlib    --with-mygcclib    --without-mygcclib    --with-mysqlclientlib    --without-mysqlclientlibGem files will remain installed in /home/stumacd/RoR/projects/wiki/ruby/1.8/gems/mysql-2.8.1 for inspection.Results logged to /home/stumacd/RoR/projects/wiki/ruby/1.8/gems/mysql-2.8.1/ext/mysql_api/gem_make.out    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:446:in `each'    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:446:in `build_extensions'    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:198:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/source.rb:96:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:51:in `run'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/spec_set.rb:12:in `each'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/spec_set.rb:12:in `each'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:40:in `run'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:8:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/cli.rb:115:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/task.rb:22:in `send'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/task.rb:22:in `run'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:109    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:116:in `call'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:116:in `invoke'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor.rb:161:in `start'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/base.rb:379:in `start'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor.rb:140:in `start'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/bin/bundle:13    from /usr/bin/bundle:19:in `load'    from /usr/bin/bundle:19The trick was to install it with the correct parameters (found by using $ which mysql) $ gem install mysql -- --with-mysql-conf=/usr/bin/mysql --with-mysql-lib=/usr/lib/mysqlThis allowed all the applicable gems to be installed.And now with a: $ rails serverWEBrick was up and running and http://localhost:3000 was showing the standard page. Gold dust :)


">
<meta name="keywords" content="ror, mysql, ruby on rails, rvm, rails 3">



<!-- Twitter Cards -->
<meta name="twitter:title" content="Ruby on rails 3 - rvm, bundle, eeeekk">
<meta name="twitter:description" content="Having a freshly loaded Ubuntu 10.04 on my main desktop (after checking it out for months on my laptop), I thought I'd get ruby on rails set up. After setting up Rails 2 with the minimum of fuss, I took the challenge of upgrading to Rails 3 (release candidate).RVM is now an essential component of any rails environment, letting you change between rails version in an instant (Theoretically, but more on that soon).Installing it was as simple as: $ bash After installing all the necessary ubuntu packages $ rvm install 1.9.2-rc2 $ rvm 1.9.2-rc2 $ gem install rails --preI can't seem to switch between rubies as I would like, but I'm sure I can solve this soon.To start a new project we have to forget the rails 2 ways and start with:$ rails new test_projectYou should see the usual files (plus a few new ones) being created.$ cd test_project $ bundle installThis is where I had some problems with mysql. I had installed every possible mysql package but it stll wasn't working.Using activeresource (3.0.0.rc) Using bundler (1.0.0.rc.1) Installing mysql (2.8.1) with native extensions /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:483:in `build_extensions': ERROR: Failed to build gem native extension. (Gem::Installer::ExtensionBuildError)/usr/bin/ruby1.8 extconf.rb checking for mysql_query() in -lmysqlclient... nochecking for main() in -lm... yeschecking for mysql_query() in -lmysqlclient... nochecking for main() in -lz... yeschecking for mysql_query() in -lmysqlclient... nochecking for main() in -lsocket... nochecking for mysql_query() in -lmysqlclient... nochecking for main() in -lnsl... yeschecking for mysql_query() in -lmysqlclient... nochecking for main() in -lmygcc... nochecking for mysql_query() in -lmysqlclient... no*** extconf.rb failed ***Could not create Makefile due to some reason, probably lack ofnecessary libraries and/or headers.  Check the mkmf.log file for moredetails.  You may need configuration options.Provided configuration options:    --with-opt-dir    --without-opt-dir    --with-opt-include    --without-opt-include=${opt-dir}/include    --with-opt-lib    --without-opt-lib=${opt-dir}/lib    --with-make-prog    --without-make-prog    --srcdir=.    --curdir    --ruby=/usr/bin/ruby1.8    --with-mysql-config    --without-mysql-config    --with-mysql-dir    --without-mysql-dir    --with-mysql-include    --without-mysql-include=${mysql-dir}/include    --with-mysql-lib    --without-mysql-lib=${mysql-dir}/lib    --with-mysqlclientlib    --without-mysqlclientlib    --with-mlib    --without-mlib    --with-mysqlclientlib    --without-mysqlclientlib    --with-zlib    --without-zlib    --with-mysqlclientlib    --without-mysqlclientlib    --with-socketlib    --without-socketlib    --with-mysqlclientlib    --without-mysqlclientlib    --with-nsllib    --without-nsllib    --with-mysqlclientlib    --without-mysqlclientlib    --with-mygcclib    --without-mygcclib    --with-mysqlclientlib    --without-mysqlclientlibGem files will remain installed in /home/stumacd/RoR/projects/wiki/ruby/1.8/gems/mysql-2.8.1 for inspection.Results logged to /home/stumacd/RoR/projects/wiki/ruby/1.8/gems/mysql-2.8.1/ext/mysql_api/gem_make.out    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:446:in `each'    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:446:in `build_extensions'    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:198:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/source.rb:96:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:51:in `run'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/spec_set.rb:12:in `each'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/spec_set.rb:12:in `each'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:40:in `run'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:8:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/cli.rb:115:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/task.rb:22:in `send'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/task.rb:22:in `run'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:109    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:116:in `call'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:116:in `invoke'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor.rb:161:in `start'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/base.rb:379:in `start'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor.rb:140:in `start'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/bin/bundle:13    from /usr/bin/bundle:19:in `load'    from /usr/bin/bundle:19The trick was to install it with the correct parameters (found by using $ which mysql) $ gem install mysql -- --with-mysql-conf=/usr/bin/mysql --with-mysql-lib=/usr/lib/mysqlThis allowed all the applicable gems to be installed.And now with a: $ rails serverWEBrick was up and running and http://localhost:3000 was showing the standard page. Gold dust :)


">



<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://stumacdonald.com/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Ruby on rails 3 - rvm, bundle, eeeekk">
<meta property="og:description" content="Having a freshly loaded Ubuntu 10.04 on my main desktop (after checking it out for months on my laptop), I thought I'd get ruby on rails set up. After setting up Rails 2 with the minimum of fuss, I took the challenge of upgrading to Rails 3 (release candidate).RVM is now an essential component of any rails environment, letting you change between rails version in an instant (Theoretically, but more on that soon).Installing it was as simple as: $ bash After installing all the necessary ubuntu packages $ rvm install 1.9.2-rc2 $ rvm 1.9.2-rc2 $ gem install rails --preI can't seem to switch between rubies as I would like, but I'm sure I can solve this soon.To start a new project we have to forget the rails 2 ways and start with:$ rails new test_projectYou should see the usual files (plus a few new ones) being created.$ cd test_project $ bundle installThis is where I had some problems with mysql. I had installed every possible mysql package but it stll wasn't working.Using activeresource (3.0.0.rc) Using bundler (1.0.0.rc.1) Installing mysql (2.8.1) with native extensions /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:483:in `build_extensions': ERROR: Failed to build gem native extension. (Gem::Installer::ExtensionBuildError)/usr/bin/ruby1.8 extconf.rb checking for mysql_query() in -lmysqlclient... nochecking for main() in -lm... yeschecking for mysql_query() in -lmysqlclient... nochecking for main() in -lz... yeschecking for mysql_query() in -lmysqlclient... nochecking for main() in -lsocket... nochecking for mysql_query() in -lmysqlclient... nochecking for main() in -lnsl... yeschecking for mysql_query() in -lmysqlclient... nochecking for main() in -lmygcc... nochecking for mysql_query() in -lmysqlclient... no*** extconf.rb failed ***Could not create Makefile due to some reason, probably lack ofnecessary libraries and/or headers.  Check the mkmf.log file for moredetails.  You may need configuration options.Provided configuration options:    --with-opt-dir    --without-opt-dir    --with-opt-include    --without-opt-include=${opt-dir}/include    --with-opt-lib    --without-opt-lib=${opt-dir}/lib    --with-make-prog    --without-make-prog    --srcdir=.    --curdir    --ruby=/usr/bin/ruby1.8    --with-mysql-config    --without-mysql-config    --with-mysql-dir    --without-mysql-dir    --with-mysql-include    --without-mysql-include=${mysql-dir}/include    --with-mysql-lib    --without-mysql-lib=${mysql-dir}/lib    --with-mysqlclientlib    --without-mysqlclientlib    --with-mlib    --without-mlib    --with-mysqlclientlib    --without-mysqlclientlib    --with-zlib    --without-zlib    --with-mysqlclientlib    --without-mysqlclientlib    --with-socketlib    --without-socketlib    --with-mysqlclientlib    --without-mysqlclientlib    --with-nsllib    --without-nsllib    --with-mysqlclientlib    --without-mysqlclientlib    --with-mygcclib    --without-mygcclib    --with-mysqlclientlib    --without-mysqlclientlibGem files will remain installed in /home/stumacd/RoR/projects/wiki/ruby/1.8/gems/mysql-2.8.1 for inspection.Results logged to /home/stumacd/RoR/projects/wiki/ruby/1.8/gems/mysql-2.8.1/ext/mysql_api/gem_make.out    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:446:in `each'    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:446:in `build_extensions'    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:198:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/source.rb:96:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:51:in `run'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/spec_set.rb:12:in `each'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/spec_set.rb:12:in `each'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:40:in `run'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:8:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/cli.rb:115:in `install'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/task.rb:22:in `send'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/task.rb:22:in `run'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:109    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:116:in `call'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:116:in `invoke'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor.rb:161:in `start'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/base.rb:379:in `start'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor.rb:140:in `start'    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/bin/bundle:13    from /usr/bin/bundle:19:in `load'    from /usr/bin/bundle:19The trick was to install it with the correct parameters (found by using $ which mysql) $ gem install mysql -- --with-mysql-conf=/usr/bin/mysql --with-mysql-lib=/usr/lib/mysqlThis allowed all the applicable gems to be installed.And now with a: $ rails serverWEBrick was up and running and http://localhost:3000 was showing the standard page. Gold dust :)


">
<meta property="og:url" content="http://stumacdonald.com/ruby-on-rails-3-rvm-bundle-eeeekk/">
<meta property="og:site_name" content="Stu MacDonald">





<link rel="canonical" href="http://stumacdonald.com/ruby-on-rails-3-rvm-bundle-eeeekk/">
<link href="http://stumacdonald.com/feed.xml" type="application/atom+xml" rel="alternate" title="Stu MacDonald Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://stumacdonald.com/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://stumacdonald.com/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://stumacdonald.com/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://stumacdonald.com/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://stumacdonald.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://stumacdonald.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://stumacdonald.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://stumacdonald.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://stumacdonald.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://stumacdonald.com/images/apple-touch-icon-144x144-precomposed.png">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-36606010-1', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://stumacdonald.com/">Stu MacDonald</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="http://stumacdonald.com/posts/" >Blog</a></li>
				
				    
				        
				    
				    <li><a href="http://stumacdonald.com/projects/" >Projects</a></li>
				
				    
				        
				    
				    <li><a href="http://stumacdonald.com/resume.html" >CV</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    


<div itemscope itemtype="http://schema.org/Person">


	<img src="http://stumacdonald.com/images/bio-photo.jpg" class="bio-photo" alt="Stu MacDonald bio photo">


  <h3 itemprop="name">Stu MacDonald</h3>
  <p>Developer. Engineer. Hobbyist.</p>
  <a href="mailto:stumacd@gmail.com" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i>Email</a>
  
  
  
  <a href="http://linkedin.com/in/stumacdonald82" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  
  <a href="http://github.com/stumacd" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  <a href="http://stackoverflow.com/users/http://stackoverflow.com/users/255816/stu" class="author-social" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i> Stackoverflow</a>
  
  
  
  
  
  
  
  
  
</div>
  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="http://stumacdonald.com/ruby-on-rails-3-rvm-bundle-eeeekk/" rel="bookmark" title="Ruby on rails 3 - rvm, bundle, eeeekk">Ruby on rails 3 - rvm, bundle, eeeekk</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <span style="font-family:georgia;">Having a freshly loaded Ubuntu 10.04 on my main desktop (after checking it out for months on my laptop), I thought I'd get ruby on rails set up. After setting up Rails 2 with the minimum of fuss, I took the challenge of upgrading to Rails 3 (release candidate).</span><br /><br /><a style="font-family: georgia;" href="http://rvm.beginrescueend.com/">RVM</a><span style="font-family:georgia;"> is now an essential component of any rails environment, letting you change between rails version in an instant (Theoretically, but more on that soon).</span><br /><br /><span style="font-family:georgia;">Installing it was as simple as:</span><br /><span style="font-family:georgia;"> $ bash < <( curl http://rvm.beginrescueend.com/releases/rvm-install-head )</span><br /><br /><span style="font-family:georgia;">After installing all the necessary </span><a style="font-family: georgia;" href="http://rvm.beginrescueend.com/os/ubuntu/">ubuntu packages</a><br /><br /><span style="font-family:georgia;"> $ rvm install 1.9.2-rc2</span><br /><span style="font-family:georgia;"> $ </span><code style="font-family: georgia;">rvm 1.9.2-rc2</code><br /><span style="font-family:georgia;"> $ </span><code style="font-family: georgia;">gem install rails --pre</code><br /><br /><span style="font-family:georgia;">I can't seem to switch between rubies as I would like, but I'm sure I can solve this soon.</span><br /><br /><span style="font-family:georgia;">To start a new project we have to forget the rails 2 ways and start with:</span><br /><code style="font-family: georgia;"><br />$ rails new test</code><code style="font-family: georgia;">_project<br /><br />You should see the usual files (plus a few new ones) being created.<br /><br />$ cd test_project<br /></code><span style="font-family:georgia;"> $ bundle install</span><br /><br /><span style="font-family:georgia;">This is where I had some problems with mysql. I had installed every possible mysql package but it stll wasn't working.</span><br /><br /><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >Using activeresource (3.0.0.rc) </span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >Using bundler (1.0.0.rc.1) </span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >Installing mysql (2.8.1) with native extensions /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:483:in `build_extensions': ERROR: Failed to build gem native extension. (Gem::Installer::ExtensionBuildError)</span><span style="font-size:85%;"><br /><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >/usr/bin/ruby1.8 extconf.rb </span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for mysql_query() in -lmysqlclient... no</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for main() in -lm... yes</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for mysql_query() in -lmysqlclient... no</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for main() in -lz... yes</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for mysql_query() in -lmysqlclient... no</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for main() in -lsocket... no</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for mysql_query() in -lmysqlclient... no</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for main() in -lnsl... yes</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for mysql_query() in -lmysqlclient... no</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for main() in -lmygcc... no</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >checking for mysql_query() in -lmysqlclient... no</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >*** extconf.rb failed ***</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >Could not create Makefile due to some reason, probably lack of</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >necessary libraries and/or headers.  Check the mkmf.log file for more</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >details.  You may need configuration options.</span><span style="font-size:85%;"><br /><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >Provided configuration options:</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-opt-dir</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-opt-dir</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-opt-include</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-opt-include=${opt-dir}/include</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-opt-lib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-opt-lib=${opt-dir}/lib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-make-prog</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-make-prog</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --srcdir=.</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --curdir</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --ruby=/usr/bin/ruby1.8</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysql-config</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysql-config</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysql-dir</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysql-dir</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysql-include</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysql-include=${mysql-dir}/include</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysql-lib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysql-lib=${mysql-dir}/lib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-zlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-zlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-socketlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-socketlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-nsllib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-nsllib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mygcclib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mygcclib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --with-mysqlclientlib</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    --without-mysqlclientlib</span><span style="font-size:85%;"><br /><br /><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >Gem files will remain installed in /home/stumacd/RoR/projects/wiki/ruby/1.8/gems/mysql-2.8.1 for inspection.</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >Results logged to /home/stumacd/RoR/projects/wiki/ruby/1.8/gems/mysql-2.8.1/ext/mysql_api/gem_make.out</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:446:in `each'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:446:in `build_extensions'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/local/lib/site_ruby/1.8/rubygems/installer.rb:198:in `install'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/source.rb:96:in `install'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:51:in `run'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/spec_set.rb:12:in `each'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/spec_set.rb:12:in `each'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:40:in `run'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/installer.rb:8:in `install'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/cli.rb:115:in `install'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/task.rb:22:in `send'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/task.rb:22:in `run'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:109</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:116:in `call'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/invocation.rb:116:in `invoke'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor.rb:161:in `start'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor/base.rb:379:in `start'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/lib/bundler/vendor/thor.rb:140:in `start'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/lib/ruby/gems/1.8/gems/bundler-1.0.0.rc.1/bin/bundle:13</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/bin/bundle:19:in `load'</span><span style="font-size:85%;"><br /></span><span style="font-family: courier new;font-family:georgia;font-size:85%;"  >    from /usr/bin/bundle:19</span><br /><br /><span style="font-family:georgia;">The trick was to install it with the correct parameters (found by using $ which mysql)</span><br /><br /><span style="font-family:georgia;"> <span style="font-size:130%;"><span style="font-weight: bold;">$ gem install mysql -- --with-mysql-conf=/usr/bin/mysql --with-mysql-lib=/usr/lib/mysql</span></span></span><br /><br /><span style="font-family:georgia;">This allowed all the applicable gems to be installed.</span><br /><br /><span style="font-family:georgia;">And now with a:</span><br /><br /><span style="font-family:georgia;"> $ rails server</span><br /><br /><span style="font-family:georgia;">WEBrick was up and running and http://localhost:3000 was showing the standard page.</span> Gold dust :)

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=http://stumacdonald.com/ruby-on-rails-3-rvm-bundle-eeeekk/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://stumacdonald.com/ruby-on-rails-3-rvm-bundle-eeeekk/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://stumacdonald.com/ruby-on-rails-3-rvm-bundle-eeeekk/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Ruby on rails 3 - rvm, bundle, eeeekk</strong> was published on <time datetime="2010-08-01T01:28:00-07:00">August 01, 2010</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://stumacdonald.com/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="http://stumacdonald.com/creating-node-in-nokogiri-with-both/" title="Creating a node in Nokogiri with both an attribute and content">Creating a node in Nokogiri with both an attribute and content</a></li>
    
      <li><a href="http://stumacdonald.com/listing-all-available-classes-in-ruby/" title="Listing all available classes in ruby">Listing all available classes in ruby</a></li>
    
      <li><a href="http://stumacdonald.com/fix-unity-after-disabling-in-in-compiz/" title="Fix unity after disabling in in Compiz">Fix unity after disabling in in Compiz</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    

<span>&copy; 2015 Stu MacDonald. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://stumacdonald.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://stumacdonald.com/assets/js/scripts.min.js"></script>

	        

</body>
</html>